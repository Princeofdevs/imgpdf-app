{% extends "base.html" %}
{% block content %}

<div class="container">

    <!-- CARDS ROW -->
    <div class="flex-row">

        <!-- IMAGE → PDF -->
        <section class="card">
            <h2>Image → PDF</h2>
            <form id="image-to-pdf-form" action="{{ url_for('image_to_pdf') }}" method="POST" enctype="multipart/form-data">
                <div class="options">
                    <div>
                        <label>Orientation</label>
                        <select name="orientation">
                            <option value="portrait">Portrait</option>
                            <option value="landscape">Landscape</option>
                        </select>
                    </div>
                    <div>
                        <label>Page Size</label>
                        <select name="pagesize">
                            <option value="a4">A4</option>
                            <option value="letter">Letter</option>
                        </select>
                    </div>
                    <div>
                        <label>Layout</label>
                        <select name="layout">
                            <option value="single">Single</option>
                            <option value="multiple">Multiple per page</option>
                        </select>
                    </div>
                </div>

                <label class="file-upload">
                    <input type="file" name="images" accept="image/*" multiple required>
                    <div class="upload-inner">
                        <div class="upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <div class="upload-text">Click or Drag Images</div>
                    </div>
                    <div class="file-names" id="image-pdf-file-names"></div>
                </label>

                <button type="submit" class="btn">Convert to PDF</button>
            </form>

            {% if pdf_download_link %}
            <a href="{{ url_for('download_file', filename=pdf_download_link) }}" class="btn download">Download PDF</a>
            {% endif %}
        </section>

        <!-- IMAGE → WORD -->
        <section class="card">
            <h2>Image → Word</h2>
            <form id="image-to-word-form" action="{{ url_for('image_to_word') }}" method="POST" enctype="multipart/form-data">
                <div class="options">
                    <div>
                        <label>Orientation</label>
                        <select name="orientation_word">
                            <option value="portrait">Portrait</option>
                            <option value="landscape">Landscape</option>
                        </select>
                    </div>
                    <div>
                        <label>Page Size</label>
                        <select name="pagesize_word">
                            <option value="a4">A4</option>
                            <option value="letter">Letter</option>
                        </select>
                    </div>
                </div>

                <label class="file-upload">
                    <input type="file" name="images_word" accept="image/*" multiple required>
                    <div class="upload-inner">
                        <div class="upload-icon">
                            <i class="fas fa-file-word"></i>
                        </div>
                        <div class="upload-text">Click or Drag Images</div>
                    </div>
                    <div class="file-names" id="image-word-file-names"></div>
                </label>

                <button type="submit" class="btn">Convert to Word</button>
            </form>

            {% if word_download_link %}
            <a href="{{ url_for('download_file', filename=word_download_link) }}" class="btn download">Download Word</a>
            {% endif %}
        </section>

    </div>

    <!-- ADVERTISEMENT -->
    <div class="ad-banner">
        <p>Reserved for Advertisement</p>
    </div>

</div>

<script>
    // Show selected file names for PDF
    const imagePdfInput = document.querySelector('input[name="images"]');
    const imagePdfFileNames = document.getElementById('image-pdf-file-names');

    imagePdfInput.addEventListener('change', () => {
        imagePdfFileNames.innerHTML = '';
        Array.from(imagePdfInput.files).forEach(f => {
            const div = document.createElement('div');
            div.className = 'file-name-item';
            div.textContent = f.name;
            imagePdfFileNames.appendChild(div);
        });
    });

    // Show selected file names for Word
    const imageWordInput = document.querySelector('input[name="images_word"]');
    const imageWordFileNames = document.getElementById('image-word-file-names');

    imageWordInput.addEventListener('change', () => {
        imageWordFileNames.innerHTML = '';
        Array.from(imageWordInput.files).forEach(f => {
            const div = document.createElement('div');
            div.className = 'file-name-item';
            div.textContent = f.name;
            imageWordFileNames.appendChild(div);
        });
    });
</script>

{% endblock %}
